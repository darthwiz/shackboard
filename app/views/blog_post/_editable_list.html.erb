<%# vim: set ft=eruby nowrap: -%>
<%if posts%>
<%=render :partial => '/blog_post/new'%>
<ul id="blog_post_list">
  <%posts.each do |p|-%>
  <li id="<%=domid(p)%>" class="<%=p.class.to_s.underscore%>">
    <%=render :partial => '/blog_post/editable_blog_post',
              :locals  => { :p => p }%>
  </li>
  <%end%>
</ul>
<%elsif comments%>
<ul id="<%=domid(parent_post)%>_comments_list" class="comment_list">
  <%comments.each do |p|-%>
  <li id="<%=domid(p)%>" class="<%=p.class.to_s.underscore%>">
    <%=render :partial => '/blog_post/editable_blog_post',
              :locals  => { :p => p }%>
  </li>
  <%end%>
</ul>
<%=render :partial => '/blog_post/new', :locals => { :parent_post => parent_post }%>
<%end%>
